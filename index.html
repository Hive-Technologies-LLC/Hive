<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rwanda Road Trust Fund ‚Äî Help Rwanda build their future</title>
<meta name="description" content="Transparent, live-tracked donations that fund equipment, food, and worker support for the Hiveway pilot in Rwanda." />

<style>
  /* =========================================
   *  THEME TOKENS & GLOBAL RESET
   * ========================================= */
  :root {
    /* Color system */
    --bg: #f7f5f3;          /* neutral stone background */
    --text: #222;           /* primary text (charcoal) */
    --muted: #666;          /* secondary text */
    --line: #ddd;           /* borders & dividers */
    --accent: #b38f47;      /* warm gold (Hive hint) */
    --accent-dark: #8e723a; /* CTA hover */
    --card: #fff;           /* card surfaces */
    --success: #2e7d32;     /* success ticks/checks */
  }

  /* Global box-model + base typography */
  * { box-sizing: border-box; }

  body {
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Inter, Roboto, Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.5;
  }

  /* Utility containers */
  .wrap { max-width: 1100px; margin: auto; padding: 24px; }
  .small { font-size: 13px; }
  .muted { color: var(--muted); }
  .list { margin: 0; padding-left: 18px; }
  .sr { position: absolute; left: -9999px; } /* screen-reader only */

  /* =========================================
   *  HEADER / HERO
   * ========================================= */
  header {
    background: linear-gradient(180deg, #f0ede9 0%, #f7f5f3 100%);
    border-bottom: 1px solid var(--line);
  }

  .hero { display: grid; gap: 18px; padding: 36px 0; }

  .brand {
    display: flex; align-items: center; gap: 10px;
    font-weight: 700; letter-spacing: .3px;
  }

  .logo {
    width: 36px; height: 36px; border-radius: 8px;
    background:
      conic-gradient(from 180deg at 50% 50%, #0000 0 25%, var(--accent) 0 50%, #0000 0 75%, var(--accent) 0),
      radial-gradient(60% 60% at 50% 50%, #333 0 60%, #0000 61%);
    outline: 1px solid var(--line);
  }

  h1 { margin: 0; font-size: clamp(24px, 4.5vw, 40px); }
  .sub { color: var(--muted); font-size: clamp(15px, 2.6vw, 18px); }

  .cta-row {
    display: flex; gap: 12px; flex-wrap: wrap; align-items: center;
  }

  /* Buttons */
  .btn {
    appearance: none; border: none; cursor: pointer;
    background: var(--accent); color: #fff;
    padding: 12px 18px; border-radius: 10px;
    font-weight: 700; letter-spacing: .2px;
  }
  .btn:hover { background: var(--accent-dark); }
  .btn.secondary {
    background: #fff; color: var(--text); border: 1px solid var(--line);
  }

/* ===== Photo hero with top/bottom overlays ===== */
.photo-hero{
  position: relative;
  border-radius: 14px;
  overflow: hidden;
  aspect-ratio: 16 / 9;          /* keeps it tidy on all screens */
  background: #ddd;              /* fallback while image loads */
  border: 1px solid var(--line);
}
.photo-hero img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Overlay captions */
.cap{
  position: absolute;
  left: 0; right: 0;
  color: #fff;
  text-align: center;
  padding: 14px 16px;
  font-weight: 800;
  text-shadow: 0 2px 8px rgba(0,0,0,.35);
}
.cap.top{
  top: 0;
  background: linear-gradient(to bottom, rgba(0,0,0,.55), rgba(0,0,0,0));
  font-size: clamp(20px, 3.6vw, 34px);
}
.cap.bottom{
  bottom: 0;
  background: linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,0));
  font-weight: 600;
  font-size: clamp(10px, 2.4vw, 18px);
}

  /* =========================================
   *  LAYOUT GRID & CARDS
   * ========================================= */
  .grid {
    display: grid; gap: 16px;
    grid-template-columns: 1fr;
    margin: 22px 0;
  }
  @media (min-width: 860px) {
    .grid { grid-template-columns: 2fr 1fr; }
  }

  .card {
    background: var(--card);
    border: 1px solid var(--line);
    border-radius: 14px;
    padding: 18px;
  }

  /* =========================================
   *  PROGRESS BAR & KPI STRIP
   * ========================================= */
  .progress { display: grid; gap: 10px; margin-top: 12px; }

  .nums {
    display: flex; justify-content: space-between;
    font-variant-numeric: tabular-nums;
  }

  .bar {
    width: 100%; height: 14px; overflow: hidden;
    background: #eee; border: 1px solid #e2e2e2;
    border-radius: 999px;
  }

  .fill {
    height: 100%; width: 0;
    background: linear-gradient(90deg, var(--accent), #d0b06a);
    transition: width .6s ease;
  }

  .kpi {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 10px;
  }

  .k {
    background: #fff; border: 1px solid var(--line);
    border-radius: 12px; padding: 12px; text-align: center;
  }

  .k strong { font-size: 20px; display: block; }

  .countbox { display: flex; gap: 10px; align-items: center; }

  .time {
    background: #fff; border: 1px solid var(--line);
    border-radius: 10px; padding: 10px 12px;
    text-align: center; min-width: 70px;
  }

  .time strong { display: block; font-size: 20px; }

/* =========================================
 *  KPI FIT / RESPONSIVE SAFEGUARDS
 * ========================================= */

/* Make KPI cards resilient and center content */
.k {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;                 /* small breathing room inside the card */
}

/* Let the countdown line wrap if needed and center it */
.countbox {
  display: flex;
  flex-wrap: wrap;          /* <-- key: allows a new line instead of overflow */
  justify-content: center;  /* center the row(s) */
  gap: 10px;
  width: 100%;
  max-width: 100%;
}

/* Keep each time chip compact on small widths */
.time {
  min-width: 64px;          /* was 70; tighter to avoid overflow */
  padding: 8px 10px;        /* a bit smaller padding */
  box-sizing: border-box;
}

/* Scalable numerals so they don‚Äôt blow out the card */
.time strong {
  font-size: clamp(16px, 4.2vw, 20px); /* shrink on narrow screens, cap at 20px */
  line-height: 1.1;
}

/* Also scale the big KPI number if needed */
.k strong {
  font-size: clamp(16px, 5vw, 20px);
}

/* On very narrow devices, tighten spacing further */
@media (max-width: 360px) {
  .countbox { gap: 6px; }
  .time { min-width: 58px; padding: 8px; }
}

  /* =========================================
   *  MILESTONES
   * ========================================= */
  .milestones { display: grid; gap: 10px; margin-top: 10px; }

  .mile {
    display: flex; align-items: flex-start; gap: 10px;
    background: #fff; border: 1px dashed var(--line);
    padding: 10px; border-radius: 10px;
  }

  .tick { color: var(--success); font-weight: 900; }

  /* =========================================
   *  GALLERIES / PLACEHOLDERS
   * ========================================= */
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 10px;
  }

  .ph {
    aspect-ratio: 4 / 3;
    background: linear-gradient(135deg, #ece9e4, #e7e2da);
    border: 1px solid var(--line);
    border-radius: 12px;
    position: relative; overflow: hidden;
  }
  .ph::after {
    content: "Photo";
    position: absolute; inset: auto 10px 10px;
    color: #666; font-size: 14px;
  }

  /* =========================================
   *  CATEGORY GRID (BUDGET SPLIT)
   * ========================================= */
  .catgrid {
    display: grid; gap: 12px; grid-template-columns: 1fr;
  }
  @media (min-width: 860px) {
    .catgrid { grid-template-columns: repeat(3, 1fr); }
  }

  .cat {
    background: #fff; border: 1px solid var(--line);
    border-radius: 12px; padding: 14px;
  }
  .cat h4 { margin: 0 0 6px 0; }
  .cat .small { display: block; margin-top: 6px; }

/* =========================================
   *  ‚ÄúMADE IN RWANDA‚Äù / PILLARS STRIP
   * ========================================= */
  .rwanda-strip {
    background: #fff; border: 1px solid var(--line);
    border-radius: 14px; padding: 24px 18px; margin-top: 12px;
    text-align: center; /* center header */
  }

  .pill {
    display: inline-block;
    background: #efe7d3; color: #5b4a22;
    border: 1px solid #e0d3b4; border-radius: 999px;
    padding: 6px 10px; font-weight: 700;
    font-size: 12px; letter-spacing: .2px;
  }

  .rw-h { margin: 8px 0 6px 0; font-size: clamp(20px, 3.6vw, 28px); }
  .rw-sub { color: var(--muted); margin: 0 0 10px 0; max-width: 640px; margin-left:auto; margin-right:auto; }

  /* top header wrapper (centered) */
  .rwanda-header { margin-bottom: 16px; }
  .rwanda-header .pill { margin-bottom: 8px; }

  /* pillar card */
  .p {
    background: #faf9f7; border: 1px dashed var(--line);
    border-radius: 12px; padding: 12px; min-width: 220px; /* fixed width for smooth marquee */
  }
  .p .ic { font-size: 20px; margin-bottom: 6px; }
  .p strong { display: block; margin-bottom: 2px; }
  .p span { color: var(--muted); font-size: 13px; }

/* --- Rwanda strip: 2-row marquee layout --- */
.rwanda-marquee {
  display: grid; gap: 10px;
}

/* a row that clips overflow */
.marquee-row {
  position: relative;
  overflow: hidden;
  border: 1px dashed var(--line);
  border-radius: 10px;
  background: #faf9f7;
}

/* the long scrolling track */
.marquee-track {
  display: inline-flex; gap: 10px;
  align-items: stretch;
  white-space: nowrap;
  padding: 10px;
  will-change: transform;
}

/* duplicate to create a seamless loop */
.marquee-track .dup {
  display: inline-flex; gap: 10px;
}

/* animations */
@keyframes rwandaScrollLeft { from { transform: translateX(0); } to { transform: translateX(-50%); } }
@keyframes rwandaScrollRight{ from { transform: translateX(-50%);} to { transform: translateX(0); } }

/* apply motion (top row left, bottom row right) */
.marquee-row.top .marquee-track   { animation: rwandaScrollLeft 40s linear infinite; }
.marquee-row.bottom .marquee-track{ animation: rwandaScrollRight 50s linear infinite; }

/* accessibility niceties */
@media (prefers-reduced-motion: reduce){
  .marquee-track { animation: none; }
}
.marquee-row:hover .marquee-track { animation-play-state: paused; }

/* ‚ÄúWhy it matters‚Äù footer below both rows */
.rwanda-footer {
  text-align: left;
  margin-top: 18px;
  padding-top: 14px;
  border-top: 1px solid var(--line);
}

/* Optional: tighten on ultra-small screens */
@media (max-width: 360px){
  .p { min-width: 200px; padding: 10px; }
  .rw-h { font-size: clamp(18px, 5.8vw, 24px); }
}
  /* =========================================
   *  BLOG CARDS (MINI ARTICLES)
   * ========================================= */
  .bloggrid {
    display: grid; gap: 12px; grid-template-columns: 1fr;
  }
  @media (min-width: 860px) {
    .bloggrid { grid-template-columns: repeat(3, 1fr); }
  }

  .blog {
    background: #fff; border: 1px solid var(--line);
    border-radius: 12px; padding: 14px;
  }
  .blog h3 { margin: 0 0 6px 0; font-size: 18px; }
  .blog p { margin: 0 0 8px 0; color: var(--muted); }
  .more {
    font-weight: 700; text-decoration: none; border-bottom: 1px solid currentColor;
  }
  .more:hover { opacity: .8; }

  /* =========================================
   *  IMPACT BANNER (TOP, DOUBLE SCROLLER)
   * ========================================= */
  .impact-banner {
    position: sticky; top: 0; z-index: 9999;
    background: #161616; color: #f2efe9;
    border-bottom: 1px solid #2b2b2b;
    font-size: 14px; line-height: 1;
    overflow: hidden;
  }

  .impact-track {
    display: flex; align-items: center; gap: 28px;
    white-space: nowrap; padding: 10px 0;
    border-bottom: 1px solid #222;
    /* Soft-edge mask to fade in/out ends */
    mask-image: linear-gradient(90deg, transparent 0%, black 8%, black 92%, transparent 100%);
    -webkit-mask-image: linear-gradient(90deg, transparent 0%, black 8%, black 92%, transparent 100%);
  }
  .impact-track--bottom { border-bottom: none; }

  .impact-chip {
    display: inline-flex; align-items: center; gap: 8px;
    padding: 6px 10px; border-radius: 999px;
    background: #202020; color: #eae6db; border: 1px solid #2e2e2e;
  }

  .impact-chip .dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: var(--accent); /* warm gold accent */
  }

  /* Keyframe animations for smooth, continuous scroll (no <marquee>) */
  @keyframes scrollLeft {
    from { transform: translateX(0); }
    to   { transform: translateX(-30%); } /* adjust to tune speed/distance */
  }
  @keyframes scrollRight {
    from { transform: translateX(-20%); }
    to   { transform: translateX(0); }
  }

  .impact-scroll {
    display: inline-block;
    will-change: transform;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    /* duration (speed) is set inline via JS for easy tweaking */
  }

  /* =========================================
   *  FOOTER
   * ========================================= */
  footer {
    border-top: 1px solid var(--line);
    margin-top: 28px; background: #faf9f7;
  }

  .footgrid {
    display: grid; gap: 14px; grid-template-columns: 1fr;
    padding: 20px 0;
  }
  @media (min-width: 720px) {
    .footgrid { grid-template-columns: 2fr 1fr; }
  }

  /* =========================================
   *  RESPONSIVE TWEAKS
   * ========================================= */
  @media (min-width: 800px) {
    .impact-banner { font-size: 15px; }
  }
</style>
</head>

<body>
<!-- =========================================
     IMPACT AT A GLANCE ‚Äî TOP BANNER (2 lines)
     Place this directly under <body>, before <header>
     ========================================= -->
<section class="impact-banner" aria-label="Impact at a glance">
  <div class="impact-track impact-track--top" id="impactTop"></div>
  <div class="impact-track impact-track--bottom" id="impactBottom"></div>
</section>
<header>
  <div class="wrap hero">
   <!-- Brand line stays the same -->
<div class="brand"><div class="logo" aria-hidden="true"></div> Rwanda Road Trust Fund</div>

<!-- New photo hero with overlaid captions -->
<figure class="photo-hero" role="img" aria-label="Community crews building a rural road in Rwanda">
  <img src="resources/feeder_work.jpeg" alt="Rwandan community crews grading and leveling a rural road">
  <figcaption class="cap top">Help Rwanda build their future</figcaption>
  <figcaption class="cap bottom">
    Your donation fuels equipment, food, and worker support‚Äîwhile directly funding kilometers of feeder road. 
  </figcaption>
</figure>    <div class="cta-row">
      <button class="btn" onclick="document.getElementById('donate').scrollIntoView({behavior:'smooth'})">Donate now</button>
      <button class="btn secondary" onclick="document.getElementById('how').scrollIntoView({behavior:'smooth'})">How your gift helps</button>
    </div>

    <!-- KPIs -->
    <div class="kpi">
      <div class="k"><strong id="kmBuilt">0.00</strong><span class="muted">km funded</span></div>
      <div class="k"><strong id="segments">0</strong><span class="muted">25 m segments</span></div>
      <div class="k"><strong id="meals">0</strong><span class="muted">worker meals</span></div>
      <div class="k">
        <div class="countbox">
          <div class="time"><strong id="d">00</strong><span class="muted">days</span></div>
          <div class="time"><strong id="h">00</strong><span class="muted">hrs</span></div>
          <div class="time"><strong id="m">00</strong><span class="muted">min</span></div>
        </div>
        <div class="muted small">Next supply dispatch</div>
      </div>
    </div>
  </div>
</header>

<!-- =========================
     MADE IN RWANDA / OWNERSHIP 
     ========================= -->
<section class="wrap">
  <div class="rwanda-strip">

    <!-- Centered header (pill + title + description) -->
    <div class="rwanda-header">
      <span class="pill">Made in Rwanda</span>
      <h2 class="rw-h">Rwanda is building the path to its future</h2>
      <p class="rw-sub">
        This road belongs to Rwanda. Built by local crews, using 100% natural materials
        sourced in Rwanda‚Äîdesigned to outperform typical feeder roads through smart
        stabilization and careful curing.
      </p>
    </div>

    <!-- Two-row scrolling marquee -->
    <div class="rwanda-marquee">
      <!-- ROW 1 (scrolls left) -->
      <div class="marquee-row top" aria-label="Key pillars row 1">
        <div class="marquee-track">
          <!-- original set -->
          <div class="dup">
            <div class="p">
              <div class="ic">üèóÔ∏è</div>
              <strong>Community-built</strong>
              <span>Local crews trained & certified; skills stay in Rwanda.</span>
            </div>
            <div class="p">
              <div class="ic">üåã</div>
              <strong>Basalt-based & natural</strong>
              <span>Basalt fines, lime, and cement tuned to local soils.</span>
            </div>
            <div class="p">
              <div class="ic">üåßÔ∏è</div>
              <strong>Weather-resilient</strong>
              <span>Proper crown, drainage, and tarp curing for the rains.</span>
            </div>
          </div>
          <!-- duplicate set for seamless loop -->
          <div class="dup">
            <div class="p">
              <div class="ic">üèóÔ∏è</div>
              <strong>Community-built</strong>
              <span>Local crews trained & certified; skills stay in Rwanda.</span>
            </div>
            <div class="p">
              <div class="ic">üåã</div>
              <strong>Basalt-based & natural</strong>
              <span>Basalt fines, lime, and cement tuned to local soils.</span>
            </div>
            <div class="p">
              <div class="ic">üåßÔ∏è</div>
              <strong>Weather-resilient</strong>
              <span>Proper crown, drainage, and tarp curing for the rains.</span>
            </div>
          </div>
        </div>
      </div>

      <!-- ROW 2 (scrolls right) -->
      <div class="marquee-row bottom" aria-label="Key pillars row 2">
        <div class="marquee-track">
          <!-- original set -->
          <div class="dup">
            <div class="p">
              <div class="ic">üî¨</div>
              <strong>Proven by testing</strong>
              <span>Field mixes & curing logs documented openly.</span>
            </div>
            <div class="p">
              <div class="ic">üåç</div>
              <strong>New & comparable</strong>
              <span>We‚Äôll publish results vs. other African roads‚Äîthen global.</span>
            </div>
            <div class="p">
              <div class="ic">üõ£Ô∏è</div>
              <strong>Built to last</strong>
              <span>Dense, well-cured surface = fewer regradings.</span>
            </div>
          </div>
          <!-- duplicate set for seamless loop -->
          <div class="dup">
            <div class="p">
              <div class="ic">üî¨</div>
              <strong>Proven by testing</strong>
              <span>Field mixes & curing logs documented openly.</span>
            </div>
            <div class="p">
              <div class="ic">üåç</div>
              <strong>New & comparable</strong>
              <span>We‚Äôll publish results vs. other African roads‚Äîthen global.</span>
            </div>
            <div class="p">
              <div class="ic">üõ£Ô∏è</div>
              <strong>Built to last</strong>
              <span>Dense, well-cured surface = fewer regradings.</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom ‚ÄúWhy it matters‚Äù section -->
    <div class="rwanda-footer">
      <h3 style="margin-top:0;">Why it matters</h3>
      <p>
        Each kilometer of Hiveway road empowers communities through employment, training,
        and ownership. Crews learn transferable construction skills while improving the
        infrastructure that connects markets, schools, and hospitals.
      </p>
    </div>

  </div>
</section>

<main class="wrap grid" id="donate">
  <!-- PROGRESS + IMPACT -->
  <section class="card">
    <h2 class="sr">Progress</h2>
    <div class="progress" aria-live="polite">
      <div class="nums">
        <div><strong id="raised">$0</strong> raised</div>
        <div class="muted">Goal <strong id="goal">$0</strong></div>
      </div>
      <div class="bar" aria-label="donation progress"><div class="fill" id="fill"></div></div>
    </div>

    <!-- Category allocation (auto from budget %) -->
    <div style="margin-top:14px">
      <h3>Live allocation by budget</h3>
      <div class="catgrid" id="cats"></div>
      <p class="small muted">Allocations update instantly based on live donations using the budget percentages below.</p>
    </div>

    <!-- Milestones -->
    <div class="milestones" id="miles" style="margin-top:10px"></div>

    <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
      <a class="btn" href="#donate-form">Donate securely</a>
      <button class="btn secondary" onclick="document.getElementById('updates').scrollIntoView({behavior:'smooth'})">See updates</button>
    </div>

    <hr style="margin:18px 0;border:0;border-top:1px solid var(--line)" />

    <div id="how">
      <h3>Where your gift goes</h3>
      <ul class="list">
        <li><strong>Equipment & tarps</strong> for weather-safe curing and quality.</li>
        <li><strong>Food & hydration</strong> for local crews (high-energy, culturally aligned).</li>
        <li><strong>Worker bonuses & logistics</strong> to retain trained builders and move supplies.</li>
      </ul>
    </div>

    <div style="margin-top:14px">
      <h3>Transparency</h3>
      <p class="muted small">Receipts + photo proof posted after each shipment. No office overheads are charged to this fund.</p>
    </div>
  </section>

  <!-- DONATION FORM (demo) -->
  <aside class="card" id="donate-form" aria-label="Donation">
    <h2>Donate</h2>
    <form onsubmit="event.preventDefault(); fakeDonate();">
      <label class="small muted" for="amt">Amount (USD)</label>
      <input id="amt" type="number" min="5" step="5" value="50"
             style="width:100%;padding:10px;border:1px solid var(--line);border-radius:10px;margin:6px 0 10px" />
      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px">
        <button type="button" class="btn secondary" onclick="setPreset(20)">$20</button>
        <button type="button" class="btn secondary" onclick="setPreset(50)">$50</button>
        <button type="button" class="btn secondary" onclick="setPreset(100)">$100</button>
        <button type="button" class="btn secondary" onclick="setPreset(250)">$250</button>
      </div>
      <button class="btn" type="submit">Donate via Stripe/PayPal</button>
      <p class="small muted" style="margin-top:8px">Secure processing. You‚Äôll get a receipt and project updates.</p>
    </form>

    <hr style="margin:18px 0;border:0;border-top:1px solid var(--line)" />
    <h3>About Rwanda Road Trust Fund</h3>
    <p class="small">A field fund supporting the Hiveway pilot: training local crews, upgrading feeder roads, and documenting results openly. Powered by Hive Technologies (R&D) with local partners.</p>
  </aside>
</main>

<section class="wrap card" id="updates" aria-label="Project updates">
  <h2>Latest updates</h2>
  <div class="gallery" style="margin-top:10px">
    <div class="ph" aria-label="Workers clearing the road (placeholder image)"></div>
    <div class="ph" aria-label="Tarp curing setup (placeholder image)"></div>
    <div class="ph" aria-label="Community milestone (placeholder image)"></div>
  </div>
  <ul class="list small muted" style="margin-top:10px">
    <li>Week 1: Site cleared; ditches dug; crews trained on crown & grade.</li>
    <li>Week 2: First 200 m stabilized; tarp spool curing deployed.</li>
  </ul>
</section>

<!-- =========================
     MINI ARTICLES / BLOG CARDS
     Paste this above <footer>
     ========================= -->
<section class="wrap card" id="learn">
  <h2>Learn more: Why this road is different</h2>
  <div class="bloggrid">
    <article class="blog">
      <h3>Made in Rwanda, owned by Rwanda</h3>
      <p>How community crews are trained, certified, and retained‚Äîso capacity stays local and grows over time.</p>
      <a href="#" class="more">Read the training plan ‚Üí</a>
    </article>

    <article class="blog">
      <h3>100% natural, locally sourced materials</h3>
      <p>Basalt fines + lime + cement tuned to local soils; why mineral microfines and proper curing beat ordinary gravel roads.</p>
      <a href="#" class="more">See the mix overview ‚Üí</a>
    </article>

    <article class="blog">
      <h3>Built for the rains: crown, drains, curing</h3>
      <p>Why a consistent 3‚Äì5% crown, clean outlets, and tarp curing create a denser, longer-lasting surface.</p>
      <a href="#" class="more">View the drainage checklist ‚Üí</a>
    </article>

    <article class="blog">
      <h3>How it compares across Africa</h3>
      <p>We‚Äôll publish side-by-side durability and maintenance data vs. typical feeder roads‚Äîthen expand to global comparisons.</p>
      <a href="#" class="more">Follow the results ‚Üí</a>
    </article>

    <article class="blog">
      <h3>Open proof: logs, photos, receipts</h3>
      <p>Transparent funding and field logs: curing sheets, progress photos, and receipts after shipment.</p>
      <a href="#" class="more">See the transparency hub ‚Üí</a>
    </article>
  </div>
</section>

<footer>
  <div class="wrap footgrid">
    <div><strong>Rwanda Road Trust Fund</strong><br/>
      <span class="small muted">Community-first road upgrades using local labor, transparent funding, and simple tech.</span></div>
    <div class="small"><div><a href="#donate">Donate</a> ¬∑ <a href="#updates">Updates</a> ¬∑ <a href="#how">How it works</a></div>
      <div class="muted">¬© <span id="yr"></span> Hive Technologies</div></div>
  </div>
</footer>

<script>
  // ============================
  // EDIT BLOCK A ‚Äî FUNDING MODEL
  // ============================
  // Every $7,000 funds 1 km. Set your km goal and starting raised amount here.
  const COST_PER_KM = 7000;             // $7k funds 1 km
  const KM_GOAL = 2;                    // total kilometers targeted
  const START_RAISED = 7000;            // live total already raised (replace with backend value)

  // Derived totals (auto)
  const GOAL = COST_PER_KM * KM_GOAL;
  const SEGMENT_LENGTH_M = 25;
  const SEGMENTS_PER_KM = 1000 / SEGMENT_LENGTH_M;        // 40
  const USD_PER_SEGMENT = COST_PER_KM / SEGMENTS_PER_KM;  // 175
  const USD_PER_MEAL = 5.25;                                 // update if needed

  // =======================================
  // EDIT BLOCK B ‚Äî BUDGET PERCENT ALLOCATION
  // =======================================
  // Define your category budget % (must sum to 100).
  // Each donation is allocated PROPORTIONALLY to these categories.
  const BUDGET = [
    { key:"equipment", label:"Equipment & Tarps", pct: 45, blurb:"Curing tarps, bamboo/PVC poles, ropes, basic tools." },
    { key:"food",      label:"Food & Hydration",   pct: 35, blurb:"Market staples + high-energy supplements." },
    { key:"other",     label:"Worker Bonus & Logistics", pct: 20, blurb:"Retention bonuses and local transport." }
  ];

  // ================================
  // EDIT BLOCK C ‚Äî MILESTONES & DATES
  // ================================
  const MILESTONES = [
    {label:"Meals & hydration funded",   target:1000},
    {label:"Tarp kits & tools funded",   target:2500},
    {label:"Worker bonus pool started",  target:5000},
    {label:"Stretch: demo basalt pavers",target:7000}
  ];
  const NEXT_SHIP = new Date(); NEXT_SHIP.setDate(NEXT_SHIP.getDate() + 9);

  // ---- Helpers ----
  const $ = id => document.getElementById(id);
  const fmt = n => n.toLocaleString(undefined,{style:'currency',currency:'USD',maximumFractionDigits:0});
  const pctFmt = n => `${n.toFixed(0)}%`;

  // State (replace with backend-fed value in production)
  let raised = START_RAISED;

  // Compute live KPIs from donations
  function computeKPIs(total){
    const segments = total / USD_PER_SEGMENT;
    const km = (segments * SEGMENT_LENGTH_M) / 1000;
    const meals = Math.floor(total / USD_PER_MEAL);
    return {segments, km, meals};
  }

  // Category allocations from % model
  function categoryAllocations(total){
    return BUDGET.map(c=>{
      const goalAmt = GOAL * (c.pct/100);
      const funded  = Math.min(total * (c.pct/100), goalAmt); // cap at category goal
      const progPct = Math.min(100, (funded/goalAmt)*100);
      return {...c, goalAmt, funded, progPct};
    });
  }

  // Render the category cards
  function renderCategories(total){
    const cats = categoryAllocations(total);
    const box = $("cats"); box.innerHTML = "";
    cats.forEach(c=>{
      const el = document.createElement("div");
      el.className = "cat";
      el.innerHTML = `
        <h4>${c.label} <span class="muted small">(${pctFmt(c.pct)})</span></h4>
        <div class="bar" aria-label="${c.label} progress"><div class="fill" style="width:${c.progPct.toFixed(1)}%"></div></div>
        <div class="nums small" style="margin-top:6px">
          <div>${fmt(c.funded)} funded</div>
          <div class="muted">Goal ${fmt(c.goalAmt)}</div>
        </div>
        <span class="small muted">${c.blurb}</span>
      `;
      box.appendChild(el);
    });
  }

  // Render milestones
  function renderMilestones(total){
    const box = $("miles"); box.innerHTML = "";
    MILESTONES.forEach(m=>{
      const hit = total >= m.target;
      const el = document.createElement("div");
      el.className = "mile";
      el.innerHTML = `<div class="tick" aria-hidden="true">${hit ? "‚úì" : "‚Ä¢"}</div>
        <div><strong>${m.label}</strong>
        <div class="small muted">${fmt(m.target)} goal ${hit ? "‚Äî achieved" : ""}</div></div>`;
      box.appendChild(el);
    });
  }

  // Paint header + progress bar + KPIs
  function renderTotals(total){
    $("raised").textContent = fmt(total);
    $("goal").textContent   = fmt(GOAL);
    const pct = Math.min(100, Math.round((total/GOAL)*100));
    $("fill").style.width = pct + "%";

    const {segments, km, meals} = computeKPIs(total);
    $("segments").textContent = segments.toFixed(1);
    $("kmBuilt").textContent  = km.toFixed(2);
    $("meals").textContent    = meals.toLocaleString();
  }

  // Countdown tick
  function tick(){
    const now = new Date();
    const diff = Math.max(0, NEXT_SHIP - now);
    const d = Math.floor(diff/864e5), h = Math.floor((diff%864e5)/36e5), m = Math.floor((diff%36e5)/6e4);
    $("d").textContent = String(d).padStart(2,"0");
    $("h").textContent = String(h).padStart(2,"0");
    $("m").textContent = String(m).padStart(2,"0");
  }

  // Donation controls (demo only‚Äîreplace with Stripe/PayPal)
  function setPreset(v){ $("amt").value = v }
  function fakeDonate(){
    const v = Math.max(0, Number($("amt").value||0));
    if(!v) return;
    raised += v; renderAll();
    alert("Thank you! (Demo) In production this would redirect to secure checkout and update via webhook.");
  }

  function renderAll(){
    renderTotals(raised);
    renderCategories(raised);
    renderMilestones(raised);
  }

  // Boot
  $("yr").textContent = new Date().getFullYear();
  renderAll(); tick(); setInterval(tick, 30_000);

/* =========================================
   IMPACT BANNER LOGIC
   - Edit FACTS to change the quick messages.
   - No IP disclosed; only high-level benefits.
   ========================================= */
const FACTS = [
  "Rwanda‚Äôs road, built by Rwandans",
  "Local crews trained & certified",
  "100% natural mineral materials from Rwanda",
  "Basalt-based surface designed for tropical rains",
  "Consistent 3‚Äì5% crown & clear drains reduce washouts",
  "Dense, well-cured surface = fewer regradings",
  "Less imported haul = fewer transport emissions",
  "Lower dust vs. untreated gravel in dry season",
  "Tarp-cured sections improve early strength",
  "Maintenance-first design: easy to patch & keep open",
  "Every $7,000 funds 1 km of road",
  "Transparent: receipts & photo proof posted",
  "Community pride: local names in the build history",
  "Built to compare with Africa‚Äôs best feeder roads",
  "Step-up durability from basic gravel/laterite"
];

// build one continuous row of ‚Äúchips‚Äù and duplicate it once for seamless loop
function makeRowHTML(items){
  return (
    '<div class="impact-scroll">' +
      items.map(txt => `
        <span class="impact-chip">
          <span class="dot" aria-hidden="true"></span>${txt}
        </span>`).join('') +
      // duplicate to allow continuous scroll
      items.map(txt => `
        <span class="impact-chip">
          <span class="dot" aria-hidden="true"></span>${txt}
        </span>`).join('') +
    '</div>'
  );
}

function mountImpactBanner(){
  const top = document.getElementById('impactTop');
  const bot = document.getElementById('impactBottom');
  if(!top || !bot) return;

  // You can randomize or reorder here if you want
  const rowA = FACTS.slice();
  const rowB = FACTS.slice().reverse();

  top.innerHTML = makeRowHTML(rowA);
  bot.innerHTML = makeRowHTML(rowB);

  // set different directions & speeds
  const topScroll = top.querySelector('.impact-scroll');
  const botScroll = bot.querySelector('.impact-scroll');

  // Duration controls speed; larger = slower (in seconds)
  topScroll.style.animation = 'scrollLeft 40s linear infinite';
  botScroll.style.animation = 'scrollRight 50s linear infinite';
}

// run on load (safe even if placed before closing </body>)
mountImpactBanner();
</script>
</body>
</html>